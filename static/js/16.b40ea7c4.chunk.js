(this["webpackJsonptomb.finance"]=this["webpackJsonptomb.finance"]||[]).push([[16],{1148:function(e,t,n){"use strict";var a=n(15),r=n(8),c=n(1),o=(n(18),n(21)),i=n(46),l=n(23),u=n(789),s=n(293),m=Object(s.a)(c.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),p=Object(s.a)(c.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),f=Object(s.a)(c.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),d=Object(s.a)(c.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),b=Object(s.a)(c.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),O=n(830),v=n(38),g={success:c.createElement(m,{fontSize:"inherit"}),warning:c.createElement(p,{fontSize:"inherit"}),error:c.createElement(f,{fontSize:"inherit"}),info:c.createElement(d,{fontSize:"inherit"})},h=c.createElement(b,{fontSize:"small"}),j=c.forwardRef((function(e,t){var n=e.action,i=e.children,l=e.classes,s=e.className,m=e.closeText,p=void 0===m?"Close":m,f=e.color,d=e.icon,b=e.iconMapping,j=void 0===b?g:b,E=e.onClose,x=e.role,y=void 0===x?"alert":x,k=e.severity,N=void 0===k?"success":k,P=e.variant,M=void 0===P?"standard":P,T=Object(a.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return c.createElement(u.a,Object(r.a)({role:y,square:!0,elevation:0,className:Object(o.default)(l.root,l["".concat(M).concat(Object(v.a)(f||N))],s),ref:t},T),!1!==d?c.createElement("div",{className:l.icon},d||j[N]||g[N]):null,c.createElement("div",{className:l.message},i),null!=n?c.createElement("div",{className:l.action},n):null,null==n&&E?c.createElement("div",{className:l.action},c.createElement(O.a,{size:"small","aria-label":p,title:p,color:"inherit",onClick:E},h)):null)}));t.a=Object(l.a)((function(e){var t="light"===e.palette.type?i.a:i.d,n="light"===e.palette.type?i.d:i.a;return{root:Object(r.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(j)},1163:function(e,t){e.exports="data:image/png;base64,NDA0OiBOb3QgRm91bmQ="},1589:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var a,r=n(2),c=n.n(r),o=n(16),i=n(26),l=n(30),u=n(1),s=n.n(u),m=n(279),p=n(25),f=n(1163),d=n.n(f),b=n(899),O=n(183),v=n(821),g=n(839),h=n(789),j=n(825),E=n(282),x=n(863),y=n(66),k=n(57),N=n(187),P=n(33),M=n(103),T=n(35),w=n(851),A=n(864),C=n(99),S=M.a.constants.MaxUint256,R=T.a.from("1000000000000000000000000");!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.APPROVED=3]="APPROVED"}(a||(a={}));var F,L=function(){var e=Object(y.a)(),t=e.TOMB,n=Object(w.a)(t.address,C.c),r=Object(A.a)(t,C.c,n),i=Object(u.useMemo)((function(){return t===e.FTM?a.APPROVED:r?r.lt(R)?n?a.PENDING:a.NOT_APPROVED:a.APPROVED:a.UNKNOWN}),[r,n,t,e]),l=Object(w.b)(),s=Object(u.useCallback)(Object(o.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i===a.NOT_APPROVED){e.next=3;break}return console.error("approve was called unnecessarily"),e.abrupt("return");case 3:return e.next=5,t.approve(C.c,S);case 5:n=e.sent,l(n,{summary:"Approve ".concat(t.symbol),approval:{tokenAddress:t.address,spender:C.c}});case 7:case"end":return e.stop()}}),e)}))),[i,t,l]);return[i,s]},D=n(873),z=n(854),V=n(63),W=function(){var e=Object(y.a)(),t=Object(z.a)();return{onProvideTombFtmLP:Object(u.useCallback)((function(n,a){var r=Object(V.parseUnits)(a);t(e.provideTombFtmLP(n,r),"Provide Tomb-FTM LP ".concat(a," ").concat(n," using ").concat(C.c))}),[e,t])}},I=n(1148),B=Object(p.c)(F||(F=Object(l.a)(["\n  body {\n    background: url(",") no-repeat !important;\n    background-size: cover !important;\n  }\n"])),d.a);function U(e){return!isNaN(parseFloat(e))&&isFinite(e)}var _=function(){var e=Object(u.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(u.useState)(0),l=Object(i.a)(r,2),p=l[0],f=l[1],d=Object(u.useState)(0),M=Object(i.a)(d,2),T=M[0],w=M[1],A=Object(k.b)().balance,C=Object(E.a)(),S=Object(y.a)(),R=L(),F=Object(i.a)(R,2),z=F[0],V=F[1],_=Object(N.a)(S.TOMB),$=(A/1e18).toFixed(4),q=W().onProvideTombFtmLP,G=Object(b.a)("TOMB-FTM-LP"),K=Object(u.useMemo)((function(){return G||null}),[G]),H=Object(u.useMemo)((function(){return C?Number(C.tokenInFtm).toFixed(2):null}),[C]),J=Object(u.useMemo)((function(){return C?Number(1/C.tokenInFtm).toFixed(2):null}),[C]),Q=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.currentTarget.value&&0!==t.currentTarget.value||a(t.currentTarget.value),U(t.currentTarget.value)){e.next=3;break}return e.abrupt("return");case 3:return a(t.currentTarget.value),e.next=6,S.quoteFromSpooky(t.currentTarget.value,"TOMB");case 6:n=e.sent,f(n),w(n/K.ftmAmount);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.currentTarget.value&&0!==t.currentTarget.value||f(t.currentTarget.value),U(t.currentTarget.value)){e.next=3;break}return e.abrupt("return");case 3:return f(t.currentTarget.value),e.next=6,S.quoteFromSpooky(t.currentTarget.value,"FTM");case 6:n=e.sent,a(n),w(n/K.tokenAmount);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.quoteFromSpooky(Object(P.a)(_),"TOMB");case 2:t=e.sent,a(Object(P.a)(_)),f(t),w(t/K.ftmAmount);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.quoteFromSpooky($,"FTM");case 2:t=e.sent,f($),a(t),w($/K.ftmAmount);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(m.a,null,s.a.createElement(B,null),s.a.createElement(O.a,{color:"textPrimary",align:"center",variant:"h3",gutterBottom:!0},"Provide Liquidity"),s.a.createElement(v.a,{container:!0,justify:"center"},s.a.createElement(g.a,{style:{width:"600px"}},s.a.createElement(I.a,{variant:"filled",severity:"warning",style:{marginBottom:"10px"}},s.a.createElement("b",null,"This and ",s.a.createElement("a",{href:"https://spookyswap.finance/",rel:"noopener noreferrer",target:"_blank"},"Spookyswap")," are the only ways to provide Liquidity on TOMB-FTM pair without paying tax.")),s.a.createElement(v.a,{item:!0,xs:12,sm:12},s.a.createElement(h.a,null,s.a.createElement(g.a,{mt:4},s.a.createElement(v.a,{item:!0,xs:12,sm:12,style:{borderRadius:15}},s.a.createElement(g.a,{p:4},s.a.createElement(v.a,{container:!0},s.a.createElement(v.a,{item:!0,xs:12},s.a.createElement(x.a,{onSelectMax:X,onChange:Q,value:n,max:Object(P.a)(_),symbol:"TOMB"})),s.a.createElement(v.a,{item:!0,xs:12},s.a.createElement(x.a,{onSelectMax:Y,onChange:Z,value:p,max:$,symbol:"FTM"})),s.a.createElement(v.a,{item:!0,xs:12},s.a.createElement("p",null,"1 TOMB = ",H," FTM"),s.a.createElement("p",null,"1 FTM = ",J," TOMB"),s.a.createElement("p",null,"LP tokens \u2248 ",T.toFixed(2))),s.a.createElement(v.a,{xs:12,justifyContent:"center",style:{textAlign:"center"}},z===D.a.APPROVED?s.a.createElement(j.a,{variant:"contained",onClick:function(){return q(p.toString(),n.toString())},color:"primary",style:{margin:"0 10px",color:"#fff"}},"Supply"):s.a.createElement(j.a,{variant:"contained",onClick:function(){return V()},color:"secondary",style:{margin:"0 10px"}},"Approve")))))))))))}},851:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var a=n(1),r=n(62),c=n(57),o=n(109);function i(){var e=Object(c.b)(),t=e.chainId,n=e.account,i=Object(r.b)();return Object(a.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.summary,c=a.approval;if(n&&t){var l=e.hash;if(!l)throw Error("No transaction hash found.");i(Object(o.a)({hash:l,from:n,chainId:t,approval:c,summary:r}))}}),[i,t,n])}function l(){var e,t=Object(c.b)().chainId,n=Object(r.c)((function(e){return e.transactions}));return t&&null!==(e=n[t])&&void 0!==e?e:{}}function u(e,t){var n=l();return Object(a.useMemo)((function(){return"string"===typeof e&&"string"===typeof t&&Object.keys(n).some((function(a){var r=n[a];if(!r)return!1;if(r.receipt)return!1;var c=r.approval;return!!c&&(c.spender===t&&c.tokenAddress===e&&function(e){return(new Date).getTime()-e.addedTime<864e5}(r))}))}),[n,t,e])}},854:function(e,t,n){"use strict";var a=n(1),r=n(851),c=n(125);t.a=function(){var e=Object(r.b)(),t=Object(c.b)();return Object(a.useCallback)((function(n,a){n.then((function(t){return e(t,{summary:a})})).catch((function(e){if(!e.message.includes("User denied")){var n="Unable to ".concat(a[0].toLowerCase()).concat(a.slice(1));console.error("".concat(n,": ").concat(e.message||e.stack)),t({error:{message:n,stack:e.message||e.stack}})}}))}),[t,e])}},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a,r,c,o,i,l,u=n(30),s=n(1),m=n.n(s),p=n(25),f=n(825),d=p.d.div(a||(a=Object(u.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: ","px;\n  display: flex;\n  padding: 0 ","px;\n"])),(function(e){return e.theme.color.grey[200]}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.spacing[3]})),b=p.d.input(r||(r=Object(u.a)(["\n  background: none;\n  border: 0;\n  color: ",";\n  font-size: 18px;\n  flex: 1;\n  height: 56px;\n  margin: 0;\n  padding: 0;\n  outline: none;\n"])),(function(e){return e.theme.color.grey[600]})),O=function(e){var t=e.endAdornment,n=e.onChange,a=e.placeholder,r=e.startAdornment,c=e.value;return m.a.createElement(d,null,!!r&&r,m.a.createElement(b,{placeholder:a,value:c,onChange:n}),!!t&&t)},v=p.d.div(c||(c=Object(u.a)([""]))),g=p.d.div(o||(o=Object(u.a)(["\n  width: ","px;\n"])),(function(e){return e.theme.spacing[3]})),h=p.d.div(i||(i=Object(u.a)(["\n  align-items: center;\n  display: flex;\n"]))),j=p.d.div(l||(l=Object(u.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 14px;\n  font-weight: 700;\n  height: 44px;\n  justify-content: flex-end;\n"])),(function(e){return e.theme.color.grey[400]})),E=function(e){var t=e.max,n=e.symbol,a=e.onChange,r=e.onSelectMax,c=e.value;return m.a.createElement(v,null,m.a.createElement(j,null,t.toLocaleString()," ",n," Available"),m.a.createElement(O,{endAdornment:m.a.createElement(h,null,m.a.createElement(g,null),m.a.createElement("div",null,m.a.createElement(f.a,{size:"small",color:"primary",variant:"contained",onClick:r},"Max"))),onChange:a,placeholder:"0",value:c}))}},864:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(16),o=n(26),i=n(1),l=n(57);t.a=function(e,t,n){var a=Object(i.useState)(null),u=Object(o.a)(a,2),s=u[0],m=u[1],p=Object(l.b)().account,f=Object(i.useCallback)(Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.allowance(p,t);case 2:a=n.sent,m(a);case 4:case"end":return n.stop()}}),n)}))),[p,t,e]);return Object(i.useEffect)((function(){p&&t&&e&&f().catch((function(e){return console.error("Failed to fetch allowance: ".concat(e.stack))}))}),[p,t,e,n,f]),s}},873:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n(2),c=n.n(r),o=n(16),i=n(103),l=n(35),u=n(1),s=n(851),m=n(864),p=i.a.constants.MaxUint256,f=l.a.from("1000000000000000000000000");!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.APPROVED=3]="APPROVED"}(a||(a={})),t.b=function(e,t){var n=Object(s.a)(e.address,t),r=Object(m.a)(e,t,n),i=Object(u.useMemo)((function(){return r?r.lt(f)?n?a.PENDING:a.NOT_APPROVED:a.APPROVED:a.UNKNOWN}),[r,n]),l=Object(s.b)(),d=Object(u.useCallback)(Object(o.a)(c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i===a.NOT_APPROVED){n.next=3;break}return console.error("approve was called unnecessarily"),n.abrupt("return");case 3:return n.next=5,e.approve(t,p);case 5:r=n.sent,l(r,{summary:"Approve ".concat(e.symbol),approval:{tokenAddress:e.address,spender:t}});case 7:case"end":return n.stop()}}),n)}))),[i,e,t,l]);return[i,d]}},899:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(16),o=n(26),i=n(1),l=n(66),u=n(134);t.a=function(e){var t=Object(i.useState)(),n=Object(o.a)(t,2),a=n[0],s=n[1],m=Object(u.a)().slowRefresh,p=Object(l.a)();return Object(i.useEffect)((function(){function t(){return(t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=s,t.next=4,p.getLPStat(e);case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),console.error(t.t2);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[s,p,m,e]),a}}}]);